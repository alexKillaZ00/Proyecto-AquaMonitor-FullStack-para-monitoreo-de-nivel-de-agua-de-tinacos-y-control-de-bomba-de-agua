<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Bomba - AquaMonitor</title>
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/bomba-edit.css">
</head>

<body id="dashboardBody">
    <!-- Navbar -->
    <nav class="navbar">
        <button class="nav-toggle" id="navToggle" aria-label="Abrir menú" aria-controls="sidebar" aria-expanded="false">☰</button>
        <div class="nav-brand">
            <img src="assets/logoSF.png" alt="Logo" class="nav-logo">
            <span>AquaMonitor</span>
        </div>
        <div class="nav-user">
            <span>Bienvenido, <span id="userName">Cargando...</span></span>
            <button class="logout-btn" id="logoutBtn">Cerrar Sesión</button>
        </div>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item">
                    <a href="dashboard.html">
                        <span class="menu-icon" aria-hidden="true"><img src="assets/homeSidebar.png" width="18" height="18" alt=""></span>
                        <span>Inicio</span>
                    </a>
                </li>
                <li class="menu-item dropdown">
                    <a href="#" class="dropdown-toggle">
                        <span class="menu-icon" aria-hidden="true"><img src="assets/tinacoSideBar.png" width="18" height="18" alt=""></span>
                        <span>Tinacos</span>
                        <span class="dropdown-arrow">▼</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="tinacos-list.html">Lista de Tinacos</a></li>
                        <li><a href="tinacos-deactivated-list.html">Tinacos Desactivados</a></li>
                        <li><a href="tinaco-add.html">Agregar Tinaco</a></li>
                    </ul>
                </li>
                <li class="menu-item dropdown active">
                    <a href="#" class="dropdown-toggle">
                        <span class="menu-icon" aria-hidden="true"><img src="assets/bombaSidebar.png" width="18" height="18" alt=""></span>
                        <span>Bombas</span>
                        <span class="dropdown-arrow">▼</span>
                    </a>
                    <ul class="dropdown-menu show">
                        <li><a href="bombas-list.html">Lista de Bombas</a></li>
                        <li><a href="bombas-deactivated-list.html">Bombas Desactivadas</a></li>
                        <li><a href="bomba-add.html">Agregar Bomba</a></li>
                    </ul>
                </li>
                <li class="menu-item">
                    <a href="reportes.html">
                        <span class="menu-icon" aria-hidden="true"><img src="assets/reporteSidebar.png" width="18" height="18" alt=""></span>
                        <span>Reportes</span>
                    </a>
                </li>
                <li class="menu-item dropdown">
                    <a href="#" class="dropdown-toggle">
                        <span class="menu-icon" aria-hidden="true"><img src="assets/settingsSidebar.png" width="18" height="18" alt=""></span>
                        <span>Configuración</span>
                        <span class="dropdown-arrow">▼</span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="change-name.html">Cambiar Nombre</a></li>
                        <li><a href="change-password.html">Cambiar Contraseña</a></li>
                    </ul>
                </li>
            </ul>
        </aside>

        <!-- Contenido principal -->
        <main class="main-content bomba-edit-main">
            <div class="page-header">
                <h1>Editar Bomba</h1>
                <p>Actualiza los datos de la bomba seleccionada.</p>
            </div>

            <!-- Estados globales (como en tinaco-edit.html) -->
            <div id="editLoading" class="state-message loading-state">Cargando datos…</div>
            <div id="editError" class="state-message error-message" style="display:none"></div>

            <div class="form-container" id="formContainer" style="display:none">
                <form id="bombaEditForm" class="update-form" novalidate>
                    <div class="form-group">
                        <label for="nombre">Nombre</label>
                        <input type="text" id="nombre" name="nombre" maxlength="100" required />
                        <div class="field-error" id="nombreError"></div>
                    </div>

                    <div class="form-group">
                        <label for="ubicacion">Ubicación (opcional)</label>
                        <input type="text" id="ubicacion" name="ubicacion" maxlength="100" />
                        <div class="field-error" id="ubicacionError"></div>
                    </div>

                    <div class="form-group">
                        <label for="porcentajeEncender">Porcentaje para encender</label>
                        <select id="porcentajeEncender" name="porcentajeEncender">
                            <option value="15">15%</option>
                            <option value="20">20%</option>
                            <option value="25">25%</option>
                        </select>
                        <div class="field-error" id="porcentajeEncenderError"></div>
                    </div>

                    <div class="form-group">
                        <label for="porcentajeApagar">Porcentaje para apagar</label>
                        <select id="porcentajeApagar" name="porcentajeApagar">
                            <option value="85">85%</option>
                            <option value="90">90%</option>
                            <option value="100">100%</option>
                        </select>
                        <div class="field-error" id="porcentajeApagarError"></div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                        <a class="btn btn-secondary" href="bombas-list.html">Cancelar</a>
                    </div>

                    <div id="formGlobalError" class="error-message" style="display:none"></div>
                    <div id="formGlobalSuccess" class="success-message" style="display:none"></div>
                </form>
            </div>
        </main>
    </div>

    <script src="js/sidebar.js"></script>
    <script src="js/bomba-edit.js"></script>
</body>

</html>
